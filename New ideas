# SmartFlow Implementation Phases

## Phase 1: Quick Wins & UI Polish (Low Effort)
*Focus: Immediate improvements to usability and data richness using existing structures.*

1. **Custom Route Width**
   - [ ] Allow clicking on a path in Editor to change `width_m`.
   - [ ] Visual feedback: thicker lines for wider corridors.

2. **More Sites & Labels**
   - [ ] Add "Library", "Gymnasium", "Canteen" to node types.
   - [ ] Cleaner Font: Switch UI font to a modern sans-serif (e.g., Segoe UI or San Francisco style).

3. **Lateness Metrics (More Data)**
   - [ ] Track `scheduled_arrival` vs `actual_arrival`.
   - [ ] Report: "% of students late" in the results summary.

---

## Phase 2: Core Simulation Logic (Medium Effort)
*Focus: Making the simulation more realistic and the workflow smoother.*

4. **Behavioural Variety**
   - [ ] **Sub-optimal Paths:** Expose `beta` parameter in Scenario Config to allow agents to pick 2nd/3rd best routes.
   - [ ] **Randomness:** Ensure `random_seed` produces varied but reproducible results.
   - [ ] **Speed Dynamics:** Verify `density_speed_factor` effectively slows agents in congestion (already implemented, needs tuning).

5. **Comparison Interface**
   - [ ] **Save Logic:** Prompt user for "Save as New" vs "Overwrite" when editing layouts.
   - [ ] **Results Compare:** View two run summaries side-by-side.

---

## Phase 3: Advanced Features (High Effort)
*Focus: Complex structural changes and visual fidelity.*

6. **Multi-Floor Compatibility**
   - [ ] **Floor Switching:** Editor tabs for "Ground", "First Floor".
   - [ ] **Stairwells:** Special nodes that connect floors at specific (x,y) coordinates.
   - [ ] **Ghosting:** Show faded outline of Floor 1 when editing Floor 2 to align walls/stairs.

7. **Executable Application**
   - [ ] Use PyInstaller to bundle the app into a single `.exe` file.

---

## Phase 4: Experimental / Hybrid Model (Very High Effort)
*Focus: Moving beyond the graph model for specific areas.*

8. **Foot Areas (Hybrid Model)**
   - [ ] Define "Zones" (e.g., Halls) as 2D grids instead of nodes.
   - [ ] Switch agents to vector-based movement inside Zones.

9. **Collisions & Smooth Movement**
   - [ ] **Visual Offset:** Implement `sin(time) * wobble` to simulate natural swaying.
   - [ ] **Lane Logic:** Divide wide edges into parallel lanes for smoother overtaking.